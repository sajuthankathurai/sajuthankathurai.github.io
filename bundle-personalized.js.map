{"version":3,"sources":["webpack://mcafee-consumer-wcm-vue3.lib/./src/core/analytics/handler.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/core/analytics/helper/helperFunctions.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/core/analytics/registerEvents.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/core/analytics/utilities/digitalData.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/core/api/api.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/core/constants/commonConstants.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/core/error-handler/globalErrorHandler.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/core/events/customEvents.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/core/analytics/main.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/core/analytics/removeRegisterdEvents.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/core/utils/textScroller.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/core/utils/bootstrapUtils.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/core/utils/paymentMethods.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/dlp/lifecycle/commonLifecycle.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/core/vue/vueInstance.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/dlp/vue/methods/addToCart.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/dlp/vue/methods/personalizedMethods.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/dlp/vue/computed/personalizedComputed.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/dlp/components/subscriptionTimer.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/core/components/error-detail.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/dlp/lifecycle/personalizedLifeCycle.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/dlp/entry/personalized.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/dlp/features/addToCartFeature.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/dlp/features/common-methods.ts","webpack://mcafee-consumer-wcm-vue3.lib/./src/dlp/vue/methods/offerSegmentRules.ts","webpack://mcafee-consumer-wcm-vue3.lib/webpack/bootstrap","webpack://mcafee-consumer-wcm-vue3.lib/webpack/runtime/define property getters","webpack://mcafee-consumer-wcm-vue3.lib/webpack/runtime/hasOwnProperty shorthand","webpack://mcafee-consumer-wcm-vue3.lib/webpack/runtime/jsonp chunk loading","webpack://mcafee-consumer-wcm-vue3.lib/webpack/startup"],"names":["fireEvent","linkdata","initiator","args","currentLinkData","utagData","key","value","event","specificEvents","length","indexOf","toString","toLowerCase","window","utag","link","callback","eval","error","console","log","message","fireDependantTags","dependantTags","forEach","tag","dependancyData","currentDependancy","fired","parseInt","timesFired","prepareLinkData","tagData","condition","el","fireData","validate","sequenceDependancy","handleAnalytics","data","detail","eventType","type","element","tags","Object","keys","tagValues","fireCount","fireWhen","removeEventListener","lookupData","lookupOrder","propertyData","registerViewAndLinkData","digitalData","utagFetch","config","utagView","order","err","analytics","map","tagProperty","find","property","tagName","pageView","winner","events","utagEvent","fireViewAndLinkData","viewData","view","undefined","pageLoad","analyticsHandler","registerEvents","eve","eventName","addEventListener","append","Event","dispatchEvent","setDigitalData","replaceAll","pathArray","path","output","split","item","push","stringToPath","current","index","getDigitalData","getHeaders","optionalHeaders","headers","page","applicationType","flowType","asyncGETAll","urls","Promise","all","url","fetch","method","credentials","customizedFetch","then","responses","response","contentType","get","includes","json","resolve","reduce","r","c","catch","asyncPOST","body","JSON","stringify","status","errorDetail","statusText","reject","ERROR_TYPE","dataError","usageError","ERROR_MESSAGES","offRulesNotAvailable","restCallFailed","vueInstanceCreationFailed","unexpectedVueError","jsonParseError","CLIENT_LOGS_CONFIG","globalError","asyncError","vueError","tryCatchError","API_URL_CONFIG","cacheable","nonCacheable","CLIENT_LOG_PROP","logToServer","logType","logs","logErrorMessage","msg","stack","cmpName","additionalInfo","sendLogsToServer","errorMsg","errorDetails","ErrorMsg","isAuthorMode","clientErrorDetails","errServletURL","location","pathname","optionalHeader","__uuid","sendErrorLogsToServer","logGlobalError","line","col","logGlobalErr","registerGlobalErrorHandler","onerror","beforeVueInstanceCreationEvent","CustomEvent","afterVueInstanceCreationEvent","updateDigitalDataEvent","apiCompletedAndDigitalDataMergedEvent","fireAnalyticsEvent","registerDirective","vueInstance","directive","binding","vnode","inputData","parse","TextScroller","className","toRotate","period","this","loopNum","txt","startScrolling","document","querySelector","setAttribute","isDeleting","i","fullTxt","substring","innerText","that","delta","Math","random","setTimeout","initializeBootstrapComponents","elementPrototype","scope","polyfill","qsa","selectors","test","attr","floor","arguments","replace","elementOrNodeList","apply","removeAttribute","querySelectorWithScope","querySelectorAllWithScope","querySelectorAll","matches","matchesWithScope","closest","closestWithScope","Element","prototype","scopePolyfillForNonChromiumEdge","elem","getAttribute","innerHTML","scrollerCSS","isAlreadyEnabled","timeout","payments","culturePayments","values","filter","isActivePayment","dta","icon","methods","ta","isActiveMethod","title","self","childElementCount","paymentMethods","id","parentElement","style","display","previousElementSibling","classList","add","remove","contains","collapseLabel","preventDefault","totalSlides","to","relatedTarget","target","parentTab","tabAnchor","click","hash","tabHandler","bs5ToggleClickHandler","e","closestEle","hasAttribute","nextElementSibling","dropDown","registerAnalyticsEvents","atfVueInstance","btfVueInstance","timer","setInterval","clearInterval","storeDynamicOffers","customOffers","off","parsedObj","offersGroup","fetchDynamicData","time","framedUrl","qs","URLSearchParams","search","cacheableDataLayers","join","encodeURI","nonCacheableDataLayers","getDigitalDataURLs","responseObj","timeEnd","assign","genericPageLifeCycle","showModelPopup","redirectActions","affiliate","channel","affid","pairs","slice","result","pair","pr","decodeURIComponent","populateQSisland","String","replaceDash","replacement","createVueInstance","app","computedProp","components","mountOn","store","directives","setup","vueIns","computed","use","globalProperties","errorHandler","mount","addToCart","getCartURL","offer","additionalQS","buttonSection","getPrice","val1","val2","defaultVal","getUrl","enableQS","offerSegmentRules","subscriptionTimer","template","tempInterval","startSubscriptionTimer","timeDiff","timerInterval","start","subscription","startDateUTC","end","expiryDateUTC","trim","startDt","Date","endDt","setSeconds","getSeconds","timerCount","diff","abs","days","hours","minutes","seconds","props","dataDigitalDataIslanders","hideComponent","islandWithError","ddIslanders","island","setFilteredIslanders","getPageErrorConditions","pageError","getComponentsList","renderNoscriptContents","nos","getElementsByTagName","nosHtml","textContent","temp","createElement","btf","after","vueLoaded","offerEvalRules","storeDynamicModals","obj","getMoguid","metaOffer","offers","metaOfferGuid","setAdditionalQS","qp","addqs","splitWord","set","isNullOrEmpty","getAbbreviatedValue","getCampaignPName","campaignPName","culture","siteSection","siteSectionLevel2","siteSectionLevel3","name","getExperienceBySection","section","experiences","selectedExperiences","selectedExperience","ex","experienceTitle","getHeroExperience","heroExperience","getOfferSegmentName","rule","rules","evalResult","getCampaignPUName","getCampaignPUNameforButton","getUOMValue","uom","getPlanType","unitValue","unitOfMeasurement","planType","getCTAName","selectedOffer","packageCode","uf","finalPrice","currencyCode","isNGMRenewal","rnwsrc","isProductRenewal","isEmailRenewal","querystring","isSemRenewal","isSeoRenewal","getGlobalSource","queryString","getNGMSourceLevel2","clicksrc","getProductSourceLevel2","getSeoSourceLevel2","getSourceLevel2","source","setCDWParamsToButton","queryParams","offerBind","campaignPUName","ccta","campaignType","campaignSubType","globalSource","cctype","ccstype","cseg","csrc","csrcl2","cls","cupf","cafcat","ccoe","ccoel2","ak_culture","ipst","ipcon","tm_local_lp_ab_test_variant","getUpdatedOffer","registerGetCartUrl","urlParams","cartUrl","cart","osnPath","itm","cParam","registerGetPriceFunction","selectDefaultOptionForRadioAndCheckbox","ele","model","match","modelName","selectedVal","options","updateGetPriceModels","getPriceNodeList","vhtml","selectDropdownChangeHandler","nodeList","hrefVal","oldOffer","newOffer","updatedFunction","updateBuynowCTA","hrefNodeList","node","func","analyticsData","applyPageTitle","titleRulesLength","ret","expression","assignment","registerGetUrl","updateHref","currentURL","hostname","tempQS","offSegRules","exp","evalRules","formattedAssignment","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","call","m","x","d","definition","o","defineProperty","enumerable","prop","hasOwnProperty","installedChunks","258","deferredModules","checkDeferredModules","webpackJsonpCallback","parentChunkLoadingFunction","chunkId","chunkIds","moreModules","runtime","executeModules","resolves","shift","chunkLoadingGlobal","checkDeferredModulesImpl","deferredModule","fulfilled","j","depId","splice","s","bind","startup","__webpack_exports__"],"mappings":"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","file":"bundle-personalized.js","sourcesContent":["import { analyticsHandler } from \"./registerEvents\";\nimport { getDigitalData, setDigitalData } from \"./utilities/digitalData\";\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction fireEvent(linkdata: AnalyticsFireData, initiator: string, args: unknown) {\n    if (!linkdata) {\n        return;\n    }\n    const currentLinkData: AnalyticsFireData = linkdata;\n    const utagData: AnalyticsConfig = getDigitalData(\"digitalData.analytics.utagData\");\n    for (const key in utagData) {\n        // Getting fireable tags from config\n        if (utagData[key]?.value && utagData[key]?.value !== \"\" && utagData[key]?.event === \"all\") {\n            currentLinkData[key] = utagData[key].value.toString().toLowerCase();\n        } else if (utagData[key]?.value && utagData[key]?.value !== \"\" && utagData[key]?.event === \"specificEvents\") {\n            if (utagData[key]?.specificEvents?.length > 0 && utagData[key]?.specificEvents?.indexOf(initiator) !== -1) {\n                currentLinkData[key] = utagData[key].value.toString().toLowerCase();\n            }\n        }\n    }\n    window.utag?.link(currentLinkData);\n    try {\n        const callback = getDigitalData(`digitalData.analytics.events.${initiator}.callbackFunc`);\n        if (callback) {\n            // eslint-disable-next-line no-eval\n            eval(callback);\n        }\n    } catch (error) {\n        console.log(`There was an error while executing a callback function\n                    Error Stack: ${error.message}`);\n    }\n}\nfunction fireDependantTags(dependantTags: string[], args: unknown) {\n    dependantTags.forEach((tag: string) => {\n        const dependancyData: AnalyticsFireData = {};\n        const currentDependancy = getDigitalData(`digitalData.analytics.events.${tag}`);\n        if (currentDependancy?.fired === \"false\") {\n            dependancyData[tag] = currentDependancy.value;\n            fireEvent(dependancyData, tag, args);\n            setDigitalData({\n                key: `digitalData.analytics.events.${tag}.fired`,\n                value: \"true\",\n            });\n            setDigitalData({\n                key: `digitalData.analytics.events.${tag}.timesFired`,\n                value: `${parseInt(currentDependancy.timesFired) + 1}`,\n            });\n        }\n    });\n}\nfunction prepareLinkData(\n    tag: string,\n    tagData: AnalyticsTagConfig,\n    condition: string,\n    el: unknown,\n    args: unknown,\n): void {\n    if (!tag && !tagData) {\n        return;\n    }\n    const fireData: AnalyticsFireData = {};\n    const validate: string = condition ? condition : tagData.condition;\n    if (validate) {\n        try {\n            // eslint-disable-next-line no-eval\n            if (eval(validate)) {\n                if (tagData?.sequenceDependancy?.length > 0) {\n                    fireDependantTags(tagData.sequenceDependancy, args);\n                }\n                fireData[tag] = tagData.value;\n                fireEvent(fireData, tag, args);\n                setDigitalData({\n                    key: `digitalData.analytics.events.${tag}.fired`,\n                    value: \"true\",\n                });\n                if (tagData.timesFired) {\n                    setDigitalData({\n                        key: `digitalData.analytics.events.${tag}.timesFired`,\n                        value: `${parseInt(tagData.timesFired) + 1}`,\n                    });\n                }\n            }\n        } catch (error) {\n            console.log(`There was an error while eval the condition.\n                    Error Stack: ${error.message}`);\n        }\n    } else {\n        fireData[tag] = tagData.value;\n        fireEvent(fireData, tag, args);\n        setDigitalData({\n            key: `digitalData.analytics.events.${tag}.fired`,\n            value: \"true\",\n        });\n        if (tagData.timesFired) {\n            setDigitalData({\n                key: `digitalData.analytics.events.${tag}.timesFired`,\n                value: `${parseInt(tagData.timesFired) + 1}`,\n            });\n        }\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nwindow.handleAnalytics = (data: { event: CustomEvent; value: AnalyticsEventInput; element: any }) => {\n    const args: unknown = data.event?.detail;\n    const eventType = data.event?.type;\n    const el = data.element;\n    // tealiumData.getViewDataFromConfig(vueIns, args);\n    if (data.value[eventType]?.data) {\n        for (const key in data.value[eventType].data) {\n            if (getDigitalData(`digitalData.analytics.utagData.${key}`)) {\n                setDigitalData({\n                    key: `digitalData.analytics.utagData.${key}.value`,\n                    // eslint-disable-next-line no-eval\n                    value: eval(data.value[eventType].data[key]),\n                });\n            } else if (getDigitalData(`digitalData.analytics.events.${key}`)) {\n                setDigitalData({\n                    key: `digitalData.analytics.events.${key}.value`,\n                    // eslint-disable-next-line no-eval\n                    value: eval(data.value[eventType].data[key]),\n                });\n            }\n        }\n    }\n    if (data.value[eventType].tags) {\n        Object.keys(data.value[eventType].tags).forEach((tag) => {\n            const tagValues = getDigitalData(`digitalData.analytics.events.${tag}`);\n            const condition = data.value[eventType].tags[tag].condition;\n            if (tagValues?.fired === \"false\" || tagValues?.fireCount === \"multiple\") {\n                if (tagValues?.type === \"group\") {\n                    if (tagValues?.fireWhen === \"anyone\") {\n                        if (tagValues?.fireCount !== \"once\") {\n                            prepareLinkData(tag, tagValues, condition, el, args);\n                        } else if (tagValues?.fireCount === \"once\") {\n                            if (tagValues?.fired === \"false\") {\n                                prepareLinkData(tag, tagValues, condition, el, args);\n                            }\n                        }\n                    }\n                    if (tagValues?.fireWhen === \"all\") {\n                        prepareLinkData(tag, tagValues, condition, el, args);\n                    }\n                }\n                if (tagValues.type && tagValues.type === \"individual\") {\n                    if (tagValues.fireCount && tagValues.fireCount !== \"once\") {\n                        prepareLinkData(tag, tagValues, condition, el, args);\n                    } else if (tagValues.fireCount && tagValues.fireCount === \"once\" && tagValues.fired === \"false\") {\n                        prepareLinkData(tag, tagValues, condition, el, args);\n                    }\n                }\n            } else {\n                if (data.event.type === \"keypress\") {\n                    // $(el).off(\"keypress\");\n                    el.removeEventListener(\"keypress\", analyticsHandler);\n                }\n            }\n        });\n    }\n};\nconst handleAnalytics = window.handleAnalytics;\nexport { handleAnalytics, prepareLinkData };\n","import { setDigitalData } from \"../utilities/digitalData\";\nimport { prepareLinkData } from \"../handler\";\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet lookupData: any,\n    lookupOrder: string[],\n    propertyData: [{ tagName: string; event: string; pageView: string; specificEvents: string[] }] | [];\nconst utagData: AnalyticsViewConfig = {};\nfunction registerViewAndLinkData(): void {\n    try {\n        if (\n            window.digitalData.utagFetch?.config &&\n            window.digitalData.utagView?.config &&\n            window.digitalData.utagFetch?.order\n        ) {\n            lookupData = window.digitalData.utagFetch.config;\n            lookupOrder = window.digitalData.utagFetch.order;\n            propertyData = window.digitalData.utagView.config;\n        }\n    } catch (err) {\n        lookupData = [{}];\n        lookupOrder = [];\n        propertyData = [];\n        console.log(`There was an error while reading Config data.\n    Error Stack: ${err.message}`);\n    }\n    window.digitalData.analytics = window.digitalData.analytics || {};\n    /* if (!window.digitalData.analytics) {\n        window.digitalData.analytics = {};\n    } */\n    if (lookupData?.length > 0) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        lookupData.map((tagData: any) => {\n            const tagProperty = propertyData.find(\n                (property: { tagName: string; event: string; pageView: string; specificEvents: string[] }) => {\n                    if (property.tagName === tagData.tagName) {\n                        return property;\n                    }\n                },\n            );\n            if (tagProperty) {\n                utagData[tagData.tagName] = {\n                    value: tagData[\"defaultValue\"],\n                    pageView: tagProperty.pageView,\n                    event: tagProperty.event,\n                    winner: \"defaultValue\",\n                    specificEvents: tagProperty.specificEvents ? tagProperty.specificEvents : [],\n                };\n                lookupOrder.forEach((order: string) => {\n                    // If the value from window.digitalData island directly apply eval method\n                    if (tagProperty && tagData[order]) {\n                        try {\n                            utagData[tagData.tagName] = {\n                                // eslint-disable-next-line no-eval\n                                value: eval(tagData[order]),\n                                pageView: tagProperty.pageView,\n                                event: tagProperty.event,\n                                winner: order,\n                                specificEvents: tagProperty.specificEvents ? tagProperty.specificEvents : [],\n                            };\n                        } catch (error) {\n                            console.log(`There was an error while processing a tealium tag ${tagData.tagName},\n      Error Message: ${error.message}`);\n                        }\n                    }\n                });\n            }\n        });\n    }\n    setDigitalData({ key: \"digitalData.analytics.utagData\", value: utagData });\n    try {\n        if (!window.digitalData.analytics?.events) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            window.digitalData.utagEvent?.config.map((data: any) => {\n                //getting list of event tag from config\n                for (const key in data) {\n                    if (key === \"defaultValue\") {\n                        //eval the value and set\n                        setDigitalData({\n                            key: `digitalData.analytics.events.${data.tagName}.value`,\n                            // eslint-disable-next-line no-eval\n                            value: eval(data[key]),\n                        });\n                    } else if (key !== \"tagName\") {\n                        //set the properties as it is\n                        setDigitalData({\n                            key: `digitalData.analytics.events.${data.tagName}.${key}`,\n                            value: data[key],\n                        });\n                    }\n                }\n            });\n        }\n    } catch (error) {\n        console.log(`There was an error while reading data from event config.\n                Error Stack ${error.message}`);\n    }\n}\nfunction fireViewAndLinkData(): void {\n    registerViewAndLinkData();\n    const viewData: AnalyticsFireData = {};\n    for (const key in utagData) {\n        if (\n            utagData[key].value &&\n            utagData[key].value !== \"\" &&\n            utagData[key].pageView &&\n            (utagData[key].pageView === \"true\" || utagData[key].pageView === true)\n        ) {\n            viewData[key] = utagData[key].value.toString().toLowerCase();\n        }\n    }\n    window.utag?.view(viewData);\n    const linkdata = window.digitalData?.analytics?.events || undefined;\n    if (linkdata) {\n        for (const key in linkdata) {\n            if (linkdata[key].pageLoad && (linkdata[key].pageLoad === \"true\" || linkdata[key].pageLoad === true)) {\n                prepareLinkData(key, linkdata[key], \"\", \"\", \"\");\n            }\n        }\n    }\n}\nexport { registerViewAndLinkData, fireViewAndLinkData };\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\r\nimport { handleAnalytics } from \"./handler\";\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nlet analyticsHandler: any;\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction registerEvents(el: any, value: AnalyticsEventInput): void {\r\n    analyticsHandler = (eve: CustomEvent) => {\r\n        handleAnalytics({ event: eve, value: value, element: el });\r\n    };\r\n    Object.keys(value).forEach((eventName) => {\r\n        if (eventName === \"append\") {\r\n            el.addEventListener(eventName, analyticsHandler);\r\n            const append = new Event(\"append\");\r\n            el.dispatchEvent(append);\r\n        } else {\r\n            //   $(el).on(eventName, handler);\r\n            el.addEventListener(eventName, analyticsHandler);\r\n        }\r\n    });\r\n}\r\nexport { registerEvents, analyticsHandler };\r\n","/**\n *\n * @param data key Value Pair\n * key should startwith digitalData\n */\nfunction setDigitalData(data: { key: string; value: unknown }): void {\n    const stringToPath = function (path: string): string[] {\n        // If the path isn't a string, return it\n        if (typeof path !== \"string\") {\n            return path;\n        }\n\n        // Create new array\n        const output: string[] = [];\n\n        // Split to an array with dot notation\n        path.split(\".\").forEach(function (item) {\n            // Split to an array with bracket notation\n            item.split(/\\[([^}]+)\\]/g).forEach(function (key) {\n                // Push to the new array\n                if (key.length > 0) {\n                    output.push(key);\n                }\n            });\n        });\n\n        return output;\n    };\n    // Remove digitalData. from path\n    data.key = data.key.replaceAll(\"digitalData.\", \"\");\n    // Convert the path to an array if not already\n    const pathArray: string[] = stringToPath(data.key);\n\n    // Cache the path length and current spot in the object\n    const length: number = pathArray.length;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let current: any = window.digitalData;\n\n    // Loop through the path\n    pathArray.forEach(function (key: string, index: number) {\n        // If this is the last item in the loop, assign the value\n        if (index === length - 1) {\n            current[key] = data.value;\n        } else {\n            // If the key doesn't exist, create it\n            if (!current[key]) {\n                current[key] = {};\n            }\n\n            // Update the current place in the objet\n            current = current[key];\n        }\n    });\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getDigitalData(path: string): any {\n    if (typeof path != \"string\") {\n        return null;\n    }\n    try {\n        // eslint-disable-next-line no-eval\n        return eval(path);\n    } catch (error) {\n        return null;\n    }\n}\nexport { setDigitalData, getDigitalData };\n","/* eslint-disable @typescript-eslint/ban-types */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/naming-convention */\r\nimport { logErrorMessage, logToServer } from \"../../core/error-handler/globalErrorHandler\";\r\nimport { ERROR_TYPE, ERROR_MESSAGES, CLIENT_LOG_PROP } from \"../../core/constants/commonConstants\";\r\n\r\nfunction getHeaders(optionalHeaders: any): Record<any, any> {\r\n    const headers = {\r\n        \"content-type\": \"application/json\",\r\n        \"X-Application-Type\": window.digitalData?.page?.applicationType || \"\",\r\n        \"X-Flow-Type\": window.digitalData?.page?.flowType || \"\",\r\n    };\r\n\r\n    return { ...headers, ...optionalHeaders };\r\n}\r\n\r\nfunction customizedFetch(url: string, optionalHeaders: any): Promise<Response> {\r\n    return fetch(url, {\r\n        method: \"GET\",\r\n        headers: getHeaders(optionalHeaders),\r\n        //There is a need to pass credentials to fetch. This is done to make API calls work in Edge 42.\r\n        //https://github.com/github/fetch/tree/3674c98df696d45573750aa7873814887d25689a#sending-cookies\r\n        credentials: \"same-origin\",\r\n    });\r\n}\r\n\r\nexport function asyncGET(url: string): Promise<Response> {\r\n    return fetch(url).then((response) => {\r\n        if (response && response.status === 200) {\r\n            return response.json();\r\n        }\r\n        const errorDetail = {\r\n            status: response?.status || \"\",\r\n            statusText: response?.statusText || \"\",\r\n            url: response?.url || \"\",\r\n        };\r\n        return Promise.reject(errorDetail);\r\n    });\r\n}\r\n\r\nexport function asyncGETAll(urls: Array<string>): Promise<any> {\r\n    return Promise.all(urls.map((url) => customizedFetch(url, {})))\r\n        .then(function (responses) {\r\n            return Promise.all(\r\n                responses.map(function (response: Response) {\r\n                    const contentType = response.headers.get(\"content-type\");\r\n                    if (!contentType || !contentType.includes(\"application/json\")) {\r\n                        logErrorMessage(\r\n                            ERROR_TYPE.dataError,\r\n                            ERROR_MESSAGES.restCallFailed,\r\n                            \"\",\r\n                            \"Rest call failed for URL as the response contentType is \" + contentType,\r\n                            \"\",\r\n                            logToServer(CLIENT_LOG_PROP.dataError),\r\n                        );\r\n                        return Promise.resolve(false);\r\n                    }\r\n                    return response.json();\r\n                }),\r\n            );\r\n        })\r\n        .then(function (data) {\r\n            return data.reduce((r, c) => ({ ...r, ...c }), {});\r\n        })\r\n        .catch(function (error) {\r\n            logErrorMessage(\r\n                ERROR_TYPE.dataError,\r\n                ERROR_MESSAGES.restCallFailed,\r\n                \"\",\r\n                \"Rest call failed for URL \" + error + \" with status code: \" + \" with status Text: \",\r\n                \"\",\r\n                logToServer(CLIENT_LOG_PROP.dataError),\r\n            );\r\n        });\r\n}\r\n\r\nexport function asyncPOST(url: string, data: {}, optionalHeaders: {}): Promise<Response> {\r\n    return fetch(url, {\r\n        method: \"POST\",\r\n        headers: getHeaders(optionalHeaders),\r\n        body: JSON.stringify(data),\r\n    }).then((response) => {\r\n        if (response && response.status === 200) {\r\n            return response.json();\r\n        }\r\n        const errorDetail = {\r\n            status: response?.status || \"\",\r\n            statusText: response?.statusText || \"\",\r\n            url: response?.url || \"\",\r\n        };\r\n        return Promise.reject(errorDetail);\r\n    });\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\nexport const ERROR_TYPE = /*#__PURE__*/ {\r\n    dataError: \"Data Error:\",\r\n    usageError: \"USAGE Error:\",\r\n};\r\n\r\nexport const ERROR_MESSAGES = /*#__PURE__*/ {\r\n    offRulesNotAvailable: \"offerSegmentRules not available\",\r\n    restCallFailed: \"REST API call failed\",\r\n    vueInstanceCreationFailed: \"Vue instance creation failed\",\r\n    unexpectedVueError: \"unexpected Vue error\",\r\n    jsonParseError: \"JSON Parse error\",\r\n};\r\n\r\nexport const CLIENT_LOGS_CONFIG: any = /*#__PURE__*/ {\r\n    globalError: false,\r\n    asyncError: true,\r\n    vueError: true,\r\n    tryCatchError: true,\r\n    dataError: true,\r\n};\r\n\r\nexport const API_URL_CONFIG = /*#__PURE__*/ {\r\n    cacheable: \"/consumer/services/core/cacheable/static.json\",\r\n    nonCacheable: \"/consumer/services/core/dynamic.json\",\r\n};\r\n\r\nexport const CLIENT_LOG_PROP = /*#__PURE__*/ {\r\n    globalError: \"globalError\",\r\n    asyncError: \"asyncError\",\r\n    vueError: \"vueError\",\r\n    tryCatchError: \"tryCatchError\",\r\n    dataError: \"dataError\",\r\n};\r\nexport const USER_INTERACTION_CONFIG = /*#__PURE__*/ {\r\n    nonCacheable: \"/consumer/ipz/services/forms-core/userinteraction.json\",\r\n    nonCacheableNonPci: \"/consumer/services/forms-core/userinteraction.json\",\r\n};\r\n\r\nexport const SERVICE_CONFIG = /*#__PURE__*/ {\r\n    trialOrder: \"/TrialOrder\",\r\n    silentRegistration: \"/SilentRegistration\",\r\n    subscribeNewsLetter: \"/SubscribeNewsLetter\",\r\n    unSubscribeNewsLetter: \"/UnSubscribeNewsLetter\",\r\n    sendLink: \"/sendlink\",\r\n};\r\n","/* eslint-disable @typescript-eslint/naming-convention */\r\n/* eslint-disable no-underscore-dangle */\r\n\r\nimport { asyncPOST } from \"../api/api\";\r\nimport { CLIENT_LOGS_CONFIG } from \"../constants/commonConstants\";\r\n\r\n/*\r\n * Method used to check if logging is enabled for the particular type.\r\n * logs is a cloud config and the object is available in digitalData.\r\n * If it is not available, then take the value from default config which is set in constants.\r\n */\r\nexport function logToServer(logType: string): boolean {\r\n    if (window.digitalData.logs) {\r\n        return window.digitalData.logs[logType];\r\n    } else {\r\n        return CLIENT_LOGS_CONFIG[logType];\r\n    }\r\n}\r\n\r\n/*\r\n * Method used to Send the error message to CSP.\r\n * In author mode, the errors will be shown to user via error ribbon. Else, the error\r\n * is sent to CSP for logging.\r\n */\r\nfunction sendErrorLogsToServer(\r\n    errorMsg: string,\r\n    msg: string,\r\n    sendLogsToServer: boolean /* , vueLoaded: boolean */,\r\n): void {\r\n    const errorDetails = {\r\n        ErrorMsg: errorMsg,\r\n    };\r\n    const isAuthorMode = window.digitalData?.page?.isAuthorMode || false;\r\n    if (isAuthorMode) {\r\n        if (!window.clientErrorDetails.includes(msg)) {\r\n            window.clientErrorDetails.push(msg);\r\n        }\r\n    } else {\r\n        if (sendLogsToServer /*  && vueLoaded */) {\r\n            const errServletURL = window.location.pathname.replaceAll(\".html\", \".error.nocache.html\");\r\n            let optionalHeader = {};\r\n            if (window.__uuid) {\r\n                optionalHeader = { \"X-UUID\": window.__uuid };\r\n            }\r\n            asyncPOST(errServletURL, errorDetails, optionalHeader).catch(function (error) {\r\n                window.console.log(error);\r\n            });\r\n        }\r\n    }\r\n}\r\n/*\r\n * Method used to log the error messages\r\n */\r\nexport function logErrorMessage(\r\n    type: string,\r\n    msg: string,\r\n    stack: string,\r\n    cmpName: string,\r\n    additionalInfo: string,\r\n    sendLogsToServer: boolean /* ,\r\n    vueLoaded: boolean, */,\r\n): void {\r\n    let message = type + \"\\n\";\r\n    message += msg !== \"\" ? \"Message: \" + msg + \"\\n\" : \"\";\r\n    message += stack !== \"\" ? \"Stack Trace: \" + stack + \"\\n\" : \"\";\r\n    message += cmpName !== \"\" ? \"Component: \" + cmpName + \"\\n\" : \"\";\r\n    message += additionalInfo !== \"\" ? \"Additional Info : \" + additionalInfo + \"\\n\" : \"\";\r\n    console.log(message);\r\n    sendErrorLogsToServer(message, msg, sendLogsToServer /* , vueLoaded */);\r\n}\r\n\r\n/*\r\n * Method used to log the global errors.\r\n * https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror\r\n */\r\nfunction logGlobalError(msg: string, url: string, line: string, col: string, error: Error): boolean {\r\n    let additionalInfo = \"\";\r\n    additionalInfo += url !== \"\" ? \"File Name: \" + url + \"\\n\" : \"\";\r\n    additionalInfo += line !== \"\" ? \"Line Number: \" + line + \"\\n\" : \"\";\r\n    additionalInfo += col !== \"\" ? \"Column Number: \" + col + \"\\n\" : \"\";\r\n    const logGlobalErr = window.digitalData?.logs?.globalError || false;\r\n    logErrorMessage(\r\n        \"[Global JS Error Handler]:\",\r\n        msg,\r\n        error && error.stack ? error.stack : \"\",\r\n        \"\",\r\n        additionalInfo,\r\n        logGlobalErr,\r\n        /* true, */\r\n    );\r\n    // if  true, this prevents firing of the default event handler.\r\n    return false;\r\n}\r\n\r\n/*\r\n * Method used to Register Global Event Handler and to initialize clientError message array\r\n */\r\nexport function registerGlobalErrorHandler(): void {\r\n    window.onerror = logGlobalError;\r\n    window.clientErrorDetails = [];\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n//Vue Instance\r\nexport const beforeVueInstanceCreationEvent = /*#__PURE__*/ new CustomEvent(\"beforeVueInstanceCreationEvent\");\r\nexport const afterVueInstanceCreationEvent = /*#__PURE__*/ new CustomEvent(\"afterVueInstanceCreationEvent\");\r\n\r\nexport function vueMountCompletedEvent(vueIns: unknown): CustomEvent {\r\n    return new /*#__PURE__*/ CustomEvent(\"vueMountCompletedEvent\", { detail: { vueInstance: vueIns } });\r\n}\r\nexport function registerDirectivesEvent(vueIns: unknown): CustomEvent {\r\n    return new /*#__PURE__*/ CustomEvent(\"registerDirectivesEvent\", { detail: { vueInstance: vueIns } });\r\n}\r\n//API\r\nexport const updateDigitalDataEvent = /*#__PURE__*/ new CustomEvent(\"updateDigitalDataEvent\");\r\nexport const apiCompletedAndDigitalDataMergedEvent = /*#__PURE__*/ new CustomEvent(\r\n    \"apiCompletedAndDigitalDataMergedEvent\",\r\n);\r\n//Analytics\r\nexport const fireAnalyticsEvent = /*#__PURE__*/ new CustomEvent(\"fireAnalyticsEvent\");\r\n","import { registerEvents } from \"./registerEvents\";\r\nimport { removeRegisterdEvents } from \"./removeRegisterdEvents\";\r\nimport { fireViewAndLinkData, registerViewAndLinkData } from \"./helper/helperFunctions\";\r\nimport { DirectiveBinding, VNode } from \"vue\";\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction registerDirective(vueInstance: any): void {\r\n    if (!vueInstance) {\r\n        return;\r\n    }\r\n    vueInstance.directive(\"triggerAnalytics\", {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        beforeMount(el: any, binding: DirectiveBinding, vnode: VNode) {\r\n            let inputData;\r\n            console.log(\"Directive Mount\");\r\n            try {\r\n                inputData = JSON.parse(binding.value);\r\n            } catch (error) {\r\n                inputData = binding.value;\r\n                console.log(`There was an error in given JSON data\r\n                Error Stack: ${error.message}`);\r\n            }\r\n            registerEvents(el, inputData);\r\n            console.log(vnode, inputData);\r\n        },\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        unmounted(el: any, binding: DirectiveBinding, vnode: VNode) {\r\n            let inputData;\r\n            try {\r\n                inputData = JSON.parse(binding.value);\r\n            } catch (error) {\r\n                inputData = binding.value;\r\n                console.log(`There was an error in given JSON data\r\n                Error Stack: ${error.message}`);\r\n            }\r\n            console.log(vnode);\r\n            removeRegisterdEvents(el, inputData);\r\n        },\r\n    });\r\n}\r\n\r\nfunction registerAnalyticsHandler(): void {\r\n    registerViewAndLinkData();\r\n    if (!window.atfVueInstance && !window.btfVueInstance) {\r\n        document.querySelectorAll(\"[data-trigger-analytics]\").forEach((elem) => {\r\n            let inputData;\r\n            console.log(\"No Vue Analytics Mount\");\r\n            try {\r\n                inputData = JSON.parse(elem.getAttribute(\"data-trigger-analytics\") || \"\");\r\n            } catch (error) {\r\n                inputData = {};\r\n                console.log(`There was an error in given JSON data\r\n                Error Stack: ${error.message}`);\r\n            }\r\n            registerEvents(elem, inputData);\r\n        });\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    document.addEventListener(\"registerDirectivesEvent\", (eve: any) => {\r\n        registerDirective(eve.detail.vueInstance);\r\n    });\r\n    document.addEventListener(\"fireAnalyticsEvent\", () => {\r\n        const timer = setInterval(() => {\r\n            if (window.utag) {\r\n                clearInterval(timer);\r\n                fireViewAndLinkData();\r\n            }\r\n        }, 100);\r\n    });\r\n}\r\nexport { registerAnalyticsHandler };\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { analyticsHandler } from \"./registerEvents\";\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction removeRegisterdEvents(element: any, value: AnalyticsEventInput): void {\n    Object.keys(value).forEach((eventName) => {\n        element.removeEventListener(eventName, analyticsHandler);\n    });\n}\nexport { removeRegisterdEvents };\n","/* eslint-disable no-undef */\r\nclass TextScroller {\r\n    toRotate: string[];\r\n    className: string;\r\n    loopNum: number;\r\n    period: number;\r\n    txt: string;\r\n    isDeleting: boolean;\r\n    constructor(className: string, toRotate: string[], period: number) {\r\n        this.toRotate = toRotate;\r\n        this.className = className;\r\n        this.loopNum = 0;\r\n        this.period = period;\r\n        this.txt = \"\";\r\n        this.startScrolling();\r\n        document.querySelector(\".\" + this.className)?.setAttribute(\"data-enabled\", \"true\");\r\n        this.isDeleting = false;\r\n    }\r\n    startScrolling() {\r\n        const i = this.loopNum % this.toRotate.length;\r\n        const fullTxt = this.toRotate[i];\r\n        if (this.isDeleting) {\r\n            this.txt = fullTxt.substring(0, this.txt.length - 1);\r\n        } else {\r\n            this.txt = fullTxt.substring(0, this.txt.length + 1);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const elem: any = document.querySelector(\".\" + this.className);\r\n        elem.innerText = this.txt;\r\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n        const that = this;\r\n        let delta = 200 - Math.random() * 100;\r\n        if (this.isDeleting) {\r\n            delta /= 2;\r\n        }\r\n        if (!this.isDeleting && this.txt === fullTxt) {\r\n            delta = this.period;\r\n            this.isDeleting = true;\r\n        } else if (this.isDeleting && this.txt === \"\") {\r\n            this.isDeleting = false;\r\n            this.loopNum++;\r\n            delta = 500;\r\n        }\r\n        setTimeout(function () {\r\n            that.startScrolling();\r\n        }, delta);\r\n    }\r\n}\r\nfunction initializeTextScroller(): void {\r\n    document.querySelectorAll(\".cmp-alert__container__text\").forEach(function (elem, index) {\r\n        const toRotate = elem.getAttribute(\"data-type\");\r\n        const period = elem.getAttribute(\"data-period\");\r\n        if (elem.innerHTML.includes(\"${scroller}\")) {\r\n            const scrollerCSS = \"cmp-alert__scroller\" + index;\r\n            elem.innerHTML = elem.innerHTML.replace(\r\n                \"${scroller}\",\r\n                \"<span class='\" + scrollerCSS + \"' data-type='\" + toRotate + \"' data-period=\" + period + \"></span>\",\r\n            );\r\n        }\r\n    });\r\n\r\n    document.querySelectorAll(\"[class*=cmp-alert__scroller]\").forEach(function (elem) {\r\n        const toRotate = elem.getAttribute(\"data-type\");\r\n        const className = elem.getAttribute(\"class\") || \"\";\r\n        const period = elem.getAttribute(\"data-period\") || \"\";\r\n        const isAlreadyEnabled = elem.getAttribute(\"data-enabled\") || false;\r\n        //Convert seconds to milliseconds\r\n        const timeout = parseInt(period, 10) * 1000 || 2000;\r\n        if (toRotate && toRotate !== \"undefined\" && toRotate !== \"\" && !isAlreadyEnabled) {\r\n            new TextScroller(className, toRotate.split(\",\"), timeout);\r\n        }\r\n    });\r\n}\r\nexport { initializeTextScroller };\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport \"bootstrap/js/dist/collapse\";\nimport \"bootstrap/js/dist/carousel\";\nimport \"bootstrap/js/dist/tab\";\nimport { initializeTextScroller } from \"./textScroller\";\nimport { initializePaymentMethods } from \"./paymentMethods\";\nfunction accordionAndCollapseHandler() {\n    document.querySelectorAll(\"[data-accordion='accordion']\").forEach(function (elem, index) {\n        const id = \"cmp-accordionsection__item\" + index;\n        elem.setAttribute(\"id\", id);\n        elem.parentElement?.querySelector(\"a\")?.setAttribute(\"href\", \"#\" + id);\n    });\n\n    document.querySelectorAll(\".cmp-collapse__title__expandLabel\").forEach(function (element: any) {\n        element.style.display = \"none\";\n    });\n\n    document.querySelectorAll(\".cmp-collapse__container\").forEach(function (elem) {\n        elem.previousElementSibling?.classList.add(\"cmp-accordionsection__container--hideborder\");\n    });\n\n    document.querySelectorAll(\"[data-collapse='collapse']\").forEach(function (elem, index) {\n        const id = \"cmp-collapsesection__item\" + index;\n        elem.querySelector(\".cmp-collapse__content__holder\")?.setAttribute(\"id\", id);\n        elem.querySelector(\".cmp-collapse__content__holder\")?.classList.remove(\"show\");\n        elem.querySelector(\".cmp-collapse__title__collapseLabel\")?.setAttribute(\"data-bs-target\", \"#\" + id);\n        elem.querySelector(\".cmp-collapse__title__expandLabel\")?.setAttribute(\"data-bs-target\", \"#\" + id);\n    });\n\n    document.querySelectorAll(\"div[id^='cmp-collapsesection__item']\").forEach(function (element) {\n        element.addEventListener(\"hidden.bs.collapse\", function () {\n            if (!element.classList.contains(\"show\")) {\n                const collapseLabel: any = element.parentElement?.parentElement?.querySelector(\n                    \".cmp-collapse__title__collapseLabel\",\n                );\n                const expandLabel: any = element.parentElement?.parentElement?.querySelector(\n                    \".cmp-collapse__title__expandLabel\",\n                );\n                expandLabel.style.display = \"none\";\n                collapseLabel.style.display = \"block\";\n                element.parentElement?.previousElementSibling?.classList.add(\n                    \"cmp-accordionsection__container--hideborder\",\n                );\n            }\n        });\n    });\n    document.querySelectorAll(\"div[id^='cmp-collapsesection__item']\").forEach(function (element) {\n        element.addEventListener(\"show.bs.collapse\", function () {\n            element.parentElement?.previousElementSibling?.classList.remove(\n                \"cmp-accordionsection__container--hideborder\",\n            );\n        });\n    });\n    document.querySelectorAll(\"a[data-bs-toggle='collapse']\").forEach(function (element) {\n        element.addEventListener(\"click\", function (eve) {\n            eve.preventDefault();\n        });\n    });\n\n    document.querySelectorAll(\"div[id^='cmp-collapsesection__item']\").forEach(function (element) {\n        element.addEventListener(\"shown.bs.collapse\", function () {\n            const collapseLabel: any = element.parentElement?.parentElement?.querySelector(\n                \".cmp-collapse__title__collapseLabel\",\n            );\n            const expandLabel: any = element.parentElement?.parentElement?.querySelector(\n                \".cmp-collapse__title__expandLabel\",\n            );\n            expandLabel.style.display = \"block\";\n            collapseLabel.style.display = \"none\";\n        });\n    });\n}\nfunction carouselHandler() {\n    document.querySelectorAll(\".carousel\").forEach(function (element) {\n        element.addEventListener(\"slide.bs.carousel\", function (eve: any) {\n            const totalSlides = element.querySelectorAll(\".carousel-item\").length - 1;\n            if (eve.to === 0) {\n                document\n                    .querySelector('[href=\"#' + element.id + '\"][data-bs-slide=\"prev\"]')\n                    ?.classList.remove(\"invisible\");\n                document\n                    .querySelector('[href=\"#' + element.id + '\"][data-bs-slide=\"prev\"]')\n                    ?.classList.add(\"invisible\");\n                document\n                    .querySelector('[href=\"#' + element.id + '\"][data-bs-slide=\"next\"]')\n                    ?.classList.remove(\"invisible\");\n            } else if (eve.to === totalSlides) {\n                document\n                    .querySelector('[href=\"#' + element.id + '\"][data-bs-slide=\"next\"]')\n                    ?.classList.remove(\"invisible\");\n                document\n                    .querySelector('[href=\"#' + element.id + '\"][data-bs-slide=\"next\"]')\n                    ?.classList.add(\"invisible\");\n                document\n                    .querySelector('[href=\"#' + element.id + '\"][data-bs-slide=\"prev\"]')\n                    ?.classList.remove(\"invisible\");\n            } else {\n                document\n                    .querySelector('[href=\"#' + element.id + '\"][data-bs-slide=\"next\"]')\n                    ?.classList.remove(\"invisible\");\n                document\n                    .querySelector('[href=\"#' + element.id + '\"][data-bs-slide=\"prev\"]')\n                    ?.classList.remove(\"invisible\");\n            }\n        });\n    });\n}\nfunction tabHandler() {\n    document.querySelectorAll(\"a[data-bs-toggle='tab']\").forEach(function (element) {\n        element.addEventListener(\"show.bs.tab\", function (eve: any) {\n            eve.relatedTarget.parentElement.classList.remove(\"active-item\");\n            eve.target.parentElement.classList.add(\"active-item\");\n            const parentTab = eve.target.getAttribute(\"data-parent-tab\");\n            if (parentTab) {\n                const tabAnchor: any = document.querySelector(\"#\" + parentTab + \"[data-bs-toggle='tab']\");\n                if (tabAnchor) {\n                    tabAnchor.click();\n                }\n            }\n        });\n    });\n    const tabAnchor: any = document.querySelector(window.location.hash + \"[data-bs-toggle='tab']\");\n    if (tabAnchor) {\n        tabAnchor.click();\n    }\n}\n/**\n * querySelectorAll(\":scope\") is not supproted in\n * Non Chromium based Edge browser v45.\n * This was used in Bootstrap 5 Tab component\n * So adding polyfill to Support Tab functions\n * on Non Chromium based Edge browsers\n */\nfunction scopePolyfillForNonChromiumEdge() {\n    // querySelectorAll(\":scope\") polyfill starts here\n    try {\n        // test for scope support\n        document.querySelector(\":scope *\");\n    } catch (error) {\n        (function (elementPrototype) {\n            // scope regex\n            const scope = /:scope(?![\\w-])/gi;\n            function polyfill(this: any, qsa: any) {\n                return function (this: any, selectors: any) {\n                    // whether the selectors contain :scope\n                    const hasScope = selectors && scope.test(selectors);\n                    if (hasScope) {\n                        // fallback attribute\n                        const attr = \"q\" + Math.floor(Math.random() * 9000000) + 1000000;\n\n                        // replace :scope with the fallback attribute\n                        // eslint-disable-next-line prefer-rest-params\n                        arguments[0] = selectors.replace(scope, \"[\" + attr + \"]\");\n\n                        // add the fallback attribute\n                        this.setAttribute(attr, \"\");\n\n                        // results of the qsa\n                        // eslint-disable-next-line prefer-rest-params\n                        const elementOrNodeList = qsa.apply(this, arguments);\n\n                        // remove the fallback attribute\n                        this.removeAttribute(attr);\n\n                        // return the results of the qsa\n                        return elementOrNodeList;\n                    } else {\n                        // return the results of the qsa\n                        // eslint-disable-next-line prefer-rest-params\n                        return qsa.apply(this, arguments);\n                    }\n                };\n            }\n\n            // polyfill Element#querySelector\n            const querySelectorWithScope = polyfill(elementPrototype.querySelector);\n\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            elementPrototype.querySelector = function querySelector(selectors: any) {\n                // eslint-disable-next-line prefer-rest-params\n                const args: any = arguments;\n                return querySelectorWithScope.apply(this, args);\n            };\n\n            // polyfill Element#querySelectorAll\n            const querySelectorAllWithScope: any = polyfill(elementPrototype.querySelectorAll);\n\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            elementPrototype.querySelectorAll = function querySelectorAll(selectors: any) {\n                // eslint-disable-next-line prefer-rest-params\n                return querySelectorAllWithScope.apply(this, arguments);\n            };\n\n            // polyfill Element#matches\n            if (elementPrototype.matches) {\n                const matchesWithScope = polyfill(elementPrototype.matches);\n\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                elementPrototype.matches = function matches(selectors) {\n                    // eslint-disable-next-line prefer-rest-params\n                    const args: any = arguments;\n                    return matchesWithScope.apply(this, args);\n                };\n            }\n\n            // polyfill Element#closest\n            if (elementPrototype.closest) {\n                const closestWithScope = polyfill(elementPrototype.closest);\n\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                elementPrototype.closest = function closest(selectors: any) {\n                    // eslint-disable-next-line prefer-rest-params\n                    const args: any = arguments;\n                    return closestWithScope.apply(this, args);\n                };\n            }\n        })(Element.prototype);\n    }\n}\nexport function initializeBootstrapComponents(): Promise<boolean> {\n    return new Promise((resolve) => {\n        scopePolyfillForNonChromiumEdge();\n        initializeTextScroller();\n        initializePaymentMethods();\n        accordionAndCollapseHandler();\n        carouselHandler();\n        tabHandler();\n        resolve(true);\n    });\n}\nexport function bs5ToggleClickHandler(e: MouseEvent): void {\n    let target = e.target as HTMLElement;\n    const closestEle = target.closest(\"[data-bs-toggle*='dropdown']\");\n    if (closestEle) {\n        target = closestEle as HTMLElement;\n    }\n    if (target?.hasAttribute(\"data-bs-toggle\") && target.getAttribute(\"data-bs-toggle\") === \"dropdown\") {\n        if (target?.classList?.contains(\"show\")) {\n            target?.classList?.remove(\"show\");\n            target.nextElementSibling?.classList?.remove(\"show\");\n        } else {\n            target?.classList?.add(\"show\");\n            target.nextElementSibling?.classList?.add(\"show\");\n\n            //Other than the target, hide other dropdowns.\n            const dropDown = document.querySelectorAll(\"[data-bs-toggle*='dropdown']\");\n            if (dropDown) {\n                dropDown.forEach((el: Element) => {\n                    if (el !== target) {\n                        el?.classList?.remove(\"show\");\n                        el.nextElementSibling?.classList?.remove(\"show\");\n                    }\n                });\n            }\n        }\n    } else {\n        //Mouse click other than dropdown toggle\n        const dropDown = document.querySelectorAll(\"[data-bs-toggle*='dropdown']\");\n        if (dropDown) {\n            dropDown.forEach((el: Element) => {\n                el?.classList?.remove(\"show\");\n                el.nextElementSibling?.classList?.remove(\"show\");\n            });\n        }\n    }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nfunction initializePaymentMethods(): Promise<boolean> {\r\n    return new Promise((resolve) => {\r\n        if (window.digitalData?.payments?.culturePayments) {\r\n            let payments: any[] = [];\r\n            Object.values(window.digitalData.payments?.culturePayments)\r\n                .filter(function (data: any) {\r\n                    return data.isActivePayment === true;\r\n                })\r\n                //Get all payments method from digitalData\r\n                .map(function (dta: any) {\r\n                    if (dta.icon === \"\" && Object.keys(dta.methods).length > 0) {\r\n                        Object.values(dta.methods).map(function (ta) {\r\n                            payments.push(ta);\r\n                        });\r\n                    } else {\r\n                        payments.push(dta);\r\n                    }\r\n                });\r\n            payments = payments\r\n                .filter(function (dta) {\r\n                    return dta.isActiveMethod === true || dta.isActivePayment === true;\r\n                })\r\n                //Get all active payments methods\r\n                .map(function (data) {\r\n                    return data.title;\r\n                })\r\n                //Get unique paymnets methods using this filter\r\n                .filter(function (value, index, self) {\r\n                    return self.indexOf(value) === index;\r\n                });\r\n            document.querySelectorAll(\"[data-payment-methods]\").forEach(function (elem) {\r\n                if (elem.childElementCount === 0) {\r\n                    let paymentMethods = \"\";\r\n                    payments.map(function (method) {\r\n                        paymentMethods += `<span id=\"paymenttypeicon_CreditCard\" title=\"${method}\" alt=\"${method}\" data-pimage=\"${method\r\n                            .toLowerCase()\r\n                            .replace(/ /g, \"\")}\" class=\"pay-icon ${method\r\n                            .toLowerCase()\r\n                            .replace(/ /g, \"\")} me-1\"></span>`;\r\n                    });\r\n                    elem.innerHTML = paymentMethods;\r\n                }\r\n            });\r\n            resolve(true);\r\n        } else {\r\n            resolve(false);\r\n        }\r\n    });\r\n}\r\nexport { initializePaymentMethods };\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { registerAnalyticsHandler } from \"../../core/analytics/main\";\r\nimport { registerGlobalErrorHandler } from \"../../core/error-handler/globalErrorHandler\";\r\nimport { asyncGETAll } from \"../../core/api/api\";\r\nimport { logErrorMessage, logToServer } from \"../../core/error-handler/globalErrorHandler\";\r\nimport { ERROR_TYPE, ERROR_MESSAGES, CLIENT_LOG_PROP, API_URL_CONFIG } from \"../../core/constants/commonConstants\";\r\nimport {\r\n    updateDigitalDataEvent,\r\n    apiCompletedAndDigitalDataMergedEvent,\r\n    fireAnalyticsEvent,\r\n} from \"../../core/events/customEvents\";\r\nimport { initializeBootstrapComponents, bs5ToggleClickHandler } from \"../../core/utils/bootstrapUtils\";\r\nimport { registerGetUrl } from \"../features/common-methods\";\r\nimport { registerGetCartUrl, registerGetPriceFunction } from \"../features/addToCartFeature\";\r\n\r\nString.prototype.replaceDash = function (): string {\r\n    return this.replace(/\\s/gi, \"-\");\r\n};\r\n\r\nString.prototype.replaceAll = function (search: any, replacement: any): string {\r\n    return this.split(search).join(replacement);\r\n};\r\n\r\nexport function domContentLoadedHandler(): void {\r\n    console.log(\"DOM Content loaded Handler\");\r\n    initializeBootstrapComponents();\r\n    document.addEventListener(\"click\", bs5ToggleClickHandler);\r\n}\r\n\r\nfunction registerAnalyticsEvents(): void {\r\n    registerAnalyticsHandler();\r\n}\r\n\r\nfunction initializeDynamicObjects(): void {\r\n    window.digitalData.offersGroup = {};\r\n    window.digitalData.showModelPopup = \"\";\r\n    window.digitalData.redirectActions = \"\";\r\n    if (location.search.includes(\"affid\")) {\r\n        window.digitalData.affiliate = { channel: \"\" };\r\n    } else {\r\n        window.digitalData.affiliate = { affid: \"0\", channel: \"\" };\r\n    }\r\n}\r\n\r\nexport function storeDynamicOffers(): void {\r\n    const customOffers = document.querySelectorAll(\"[data-offersgroup]\");\r\n    if (customOffers) {\r\n        customOffers.forEach((el) => {\r\n            const off = el.getAttribute(\"data-offersgroup\") as string;\r\n            let parsedObj = {};\r\n            try {\r\n                parsedObj = JSON.parse(off);\r\n            } catch (e: any) {\r\n                logErrorMessage(\r\n                    ERROR_TYPE.dataError,\r\n                    ERROR_MESSAGES.jsonParseError,\r\n                    \"\",\r\n                    \"commonLifecycle.ts, Unable to parse JSON : \" + off,\r\n                    \"\",\r\n                    logToServer(CLIENT_LOG_PROP.dataError),\r\n                );\r\n            }\r\n\r\n            window.digitalData.offersGroup = {\r\n                ...window.digitalData.offersGroup,\r\n                ...parsedObj,\r\n            };\r\n        });\r\n    }\r\n}\r\n\r\nfunction getDigitalDataURLs(): string[] {\r\n    const urls: Array<string> = [];\r\n    //Frame cacheableURL\r\n    let framedUrl = \"\",\r\n        qs = \"\";\r\n    qs = new URLSearchParams(window.location.search).toString();\r\n    if (qs !== \"\") {\r\n        qs = \"?\" + qs;\r\n    }\r\n    const cacheableDataLayers =\r\n        API_URL_CONFIG.cacheable + window.digitalData?.cacheableDataLayers?.map((dta: string) => \"/\" + dta).join(\"\") ||\r\n        \"\";\r\n    if (cacheableDataLayers !== \"\") {\r\n        framedUrl = encodeURI(cacheableDataLayers + qs);\r\n        urls.push(framedUrl);\r\n    }\r\n\r\n    //Frame non-cacheableURL\r\n    const nonCacheableDataLayers =\r\n        API_URL_CONFIG.nonCacheable +\r\n            window.digitalData?.nonCacheableDataLayers?.map((dta: string) => \"/\" + dta).join(\"\") || \"\";\r\n    if (nonCacheableDataLayers !== \"\") {\r\n        framedUrl = encodeURI(nonCacheableDataLayers + qs);\r\n        urls.push(framedUrl);\r\n    }\r\n\r\n    return urls;\r\n}\r\n\r\nexport function fetchDynamicData(): void {\r\n    console.time(\"Dynamic data fetch call:\");\r\n    document.dispatchEvent(updateDigitalDataEvent);\r\n\r\n    asyncGETAll(getDigitalDataURLs())\r\n        .then((responseObj) => {\r\n            console.timeEnd(\"Dynamic data fetch call:\");\r\n            window.digitalData = Object.assign(window.digitalData, responseObj);\r\n            document.dispatchEvent(apiCompletedAndDigitalDataMergedEvent);\r\n            document.dispatchEvent(fireAnalyticsEvent);\r\n        })\r\n        .catch((err) => {\r\n            logErrorMessage(\r\n                ERROR_TYPE.dataError,\r\n                ERROR_MESSAGES.restCallFailed,\r\n                \"\",\r\n                \"commonLifecycle.ts, \" + JSON.stringify(err),\r\n                \"\",\r\n                logToServer(CLIENT_LOG_PROP.dataError),\r\n            );\r\n        });\r\n}\r\n\r\nfunction populateQSisland(): void {\r\n    const pairs: string[] = location.search.slice(1).split(\"&\");\r\n    // eslint-disable-next-line prefer-const\r\n    let result: Record<any, any> = {};\r\n    pairs.forEach(function (pair: string) {\r\n        const pr = pair.split(\"=\");\r\n        result[pr[0]] = decodeURIComponent(pr[1] || \"\");\r\n    });\r\n\r\n    window.digitalData.qs = JSON.parse(JSON.stringify(result));\r\n}\r\n\r\nfunction removeGetCartUrlHref(): void {\r\n    //Removing href from buynow button as\r\n    //1. Vue is complaining about duplicate attribute and things are not working in Edge 42 but working in Chrome and chromium based EDGE browser\r\n    //2. For Default lifecycle, It will be updated on page load.\r\n    //3. Rhino's replacement will work if JS is disabled.\r\n    document.querySelectorAll(\"[\\\\:href*=\" + \"getCartURL\" + \"]\")?.forEach(function (e) {\r\n        e?.removeAttribute(\"href\");\r\n    });\r\n}\r\n\r\nexport function genericPageLifeCycle(): void {\r\n    registerGlobalErrorHandler();\r\n    registerAnalyticsEvents();\r\n    initializeDynamicObjects();\r\n    storeDynamicOffers();\r\n    populateQSisland();\r\n    registerGetCartUrl();\r\n    registerGetUrl();\r\n    registerGetPriceFunction();\r\n    removeGetCartUrlHref();\r\n}\r\n","/* eslint-disable @typescript-eslint/ban-types */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable no-eval */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { createApp, reactive } from \"vue\";\r\nimport { afterVueInstanceCreationEvent, vueMountCompletedEvent, registerDirectivesEvent } from \"../events/customEvents\";\r\nimport { logErrorMessage, logToServer } from \"../error-handler/globalErrorHandler\";\r\nimport { ERROR_TYPE, ERROR_MESSAGES, CLIENT_LOG_PROP } from \"../constants/commonConstants\";\r\n\r\n/* Method used to create a Vue instance and can be accessible in window level (window.vueInstance)\r\nwindow.digitalData is made reactive  */\r\nexport function createVueInstance(\r\n    dta: Record<any, any>,\r\n    app: string,\r\n    vueInstance: string,\r\n    methods?: {},\r\n    computedProp?: {},\r\n    components?: {},\r\n    mountOn?: string,\r\n    store?: {},\r\n    directives?: {},\r\n    setup?: () => {},\r\n): Promise<boolean> {\r\n    return new Promise((resolve) => {\r\n        console.time(\"Vue Instance Creation\");\r\n        window[app] = createApp({\r\n            setup() {\r\n                if (setup) {\r\n                    return setup();\r\n                }\r\n            },\r\n            data() {\r\n                return {\r\n                    dta,\r\n                };\r\n            },\r\n            computed: computedProp,\r\n            methods,\r\n            components,\r\n            mounted() {\r\n                document.dispatchEvent(vueMountCompletedEvent(this));\r\n            },\r\n            directives: directives ? directives : {},\r\n        });\r\n        if (store) {\r\n            window[app].use(store);\r\n        }\r\n        window[app].config.globalProperties.digitalData = reactive(window.digitalData);\r\n        window[app].config.errorHandler = function (err: any) {\r\n            logErrorMessage(\r\n                ERROR_TYPE.dataError,\r\n                ERROR_MESSAGES.unexpectedVueError + \":\" + err,\r\n                \"\",\r\n                \"vueInstance.ts, \" + err,\r\n                \"\",\r\n                logToServer(CLIENT_LOG_PROP.dataError),\r\n            );\r\n        };\r\n        window.digitalData = window[app].config.globalProperties.digitalData;\r\n        document.dispatchEvent(registerDirectivesEvent(window[app]));\r\n        window[vueInstance] = window[app].mount(mountOn);\r\n        console.timeEnd(\"Vue Instance Creation\");\r\n        document.dispatchEvent(afterVueInstanceCreationEvent);\r\n        resolve(true);\r\n    });\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nexport const addToCart: Record<any, any> = {\r\n    getCartURL(offer: string, additionalQS: string, buttonSection: string): string {\r\n        return window.getCartURL(offer, additionalQS, buttonSection);\r\n    },\r\n};\r\n","/* eslint-disable no-eval */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { addToCart } from \"./addToCart\";\r\nimport { offerSegmentRules } from \"./offerSegmentRules\";\r\n\r\nexport const methods: Record<any, any> = {\r\n    getPrice(val1: string, val2: string, defaultVal: string): string {\r\n        return window.getPrice(val1, val2, defaultVal);\r\n    },\r\n    getUrl(url: string, enableQS = false) {\r\n        return window.getUrl(url, enableQS);\r\n    },\r\n    ...addToCart,\r\n    ...offerSegmentRules,\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\nexport const computed: Record<any, any> = {};\r\n","/* eslint-disable @typescript-eslint/no-use-before-define */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\n\r\n/*\r\nUsage:\r\n------------\r\n<subscription-timer>\r\n<template v-slot:default=\"prop\" v-if=\"digitalData.subscription != null && digitalData.subscription.termtype != null && digitalData.subscription.termtype == '1'\">\r\nYour subscription will get expire in {{prop.days}} DAYS {{prop.hours}} HOURS {{prop.minutes}} MINUTES {{prop.seconds}} SECONDS\r\n</template>\r\n<template v-slot:default=\"prop\" v-if=\"digitalData.subscription != null && digitalData.subscription.termtype != null && digitalData.subscription.termtype == '2'\">\r\nYour subscription expired {{prop.days}} DAYS {{prop.hours}} HOURS {{prop.minutes}} MINUTES {{prop.seconds}} SECONDS ago\r\n</template>\r\n</subscription-timer>\r\n */\r\nimport { defineComponent, ref, computed, onBeforeUnmount } from \"vue\";\r\nexport const subscriptionTimer = defineComponent({\r\n    template: `<span><slot :days=\"days\" :hours=\"hours\" :minutes=\"minutes\" :seconds=\"seconds\"></slot></span>`,\r\n    setup() {\r\n        const tempInterval = setInterval(() => startSubscriptionTimer(), 100);\r\n        const timeDiff = ref(0);\r\n        let timerInterval: any = null;\r\n        // Methods\r\n        const startSubscriptionTimer = () => {\r\n            const start = window.digitalData?.subscription?.startDateUTC || undefined,\r\n                end = window.digitalData?.subscription?.expiryDateUTC || undefined;\r\n            if (start && end && start.trim() !== \"\" && end.trim() !== \"\") {\r\n                clearInterval(tempInterval);\r\n                const startDt = new Date(start),\r\n                    endDt = new Date(end);\r\n                endDt.setSeconds(endDt.getSeconds() - 1);\r\n                timerCount(startDt, endDt);\r\n                // Start timer\r\n                timerInterval = setInterval(() => {\r\n                    endDt.setSeconds(endDt.getSeconds() - 1);\r\n                    timerCount(startDt, endDt);\r\n                }, 1000);\r\n            }\r\n        };\r\n\r\n        const timerCount = (start: any, end: any) => {\r\n            const diff = end - start;\r\n            if (diff < 0) {\r\n                timeDiff.value = Math.abs(diff);\r\n            } else {\r\n                timeDiff.value = diff;\r\n            }\r\n        };\r\n\r\n        //Computed\r\n        const days = computed(() => Math.floor(timeDiff.value / (1000 * 60 * 60 * 24)));\r\n        const hours = computed(() => Math.floor((timeDiff.value % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)));\r\n        const minutes = computed(() => Math.floor((timeDiff.value % (1000 * 60 * 60)) / (1000 * 60)));\r\n        const seconds = computed(() => Math.floor((timeDiff.value % (1000 * 60)) / 1000));\r\n\r\n        onBeforeUnmount(() => {\r\n            clearInterval(timerInterval);\r\n        });\r\n\r\n        return { days, hours, minutes, seconds };\r\n    },\r\n});\r\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { defineComponent, onMounted, ref, computed, Ref } from \"vue\";\r\n\r\nexport const errorDetail = defineComponent({\r\n    template: `\r\n    <div v-cloak :class=\"{'d-none':hideComponent == true}\" class=\"cmp-errordetails\" v-if=\"getPageErrorConditions()\">\r\n    <div class=\"alert alert-danger\">     \r\n      <strong>Problems on the page</strong>            \r\n      <span class=\"cmp-errordetails__close-btn\" @click=\"hideComponent=true\">X</span>\r\n      <hr class=\"message-inner-separator\" />\r\n      <div id=\"accordion\" class=\"cmp-errordetails_container\">\r\n        <div\r\n          v-for=\"(itm, key, index) in islandWithError\"\r\n          :key=\"index\"\r\n          class=\"cmp-errordetails__body\"\r\n        >        \r\n          <a\r\n            class=\"collapsed cmp-errordetails__link\"\r\n            data-bs-toggle=\"collapse\"\r\n            :href=\"'#' + key + 'Error'\"\r\n            >Related to {{ key }}:</a\r\n          >\r\n          <div\r\n            :id=\"key + 'Error'\"\r\n            class=\"collapse cmp-errordetails__msg\"\r\n            data-bs-parent=\"#accordion\"\r\n          >\r\n            <ul>\r\n              <li\r\n                v-for=\"(item, indx) in itm\"\r\n                :key=\"indx\"\r\n              >\r\n                {{ item.errorMessage }}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div\r\n          class=\"cmp-errordetails__body\"\r\n          v-if=\"\r\n            clientErrorDetails && clientErrorDetails.length > 0 ? true : false\r\n          \"\r\n        >\r\n          <a\r\n            class=\"collapsed cmp-errordetails__link\"\r\n            data-bs-toggle=\"collapse\"\r\n            href=\"#clientErrors\"\r\n            >Related to client errors:</a\r\n          >\r\n          <div\r\n            id=\"clientErrors\"\r\n            class=\"collapse cmp-errordetails__msg\"\r\n            data-bs-parent=\"#accordion\"\r\n          >\r\n            <ul>\r\n              <li v-for=\"(item, idc) in clientErrorDetails\" :key=\"idc\">\r\n                {{ item }}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  `,\r\n    props: {\r\n        dataDigitalDataIslanders: String,\r\n    },\r\n    setup(props) {\r\n        const clientErrorDetails: Ref<string[]> = ref([]);\r\n        const hideComponent = ref(false);\r\n        const islandWithError = ref({});\r\n\r\n        //computed\r\n        const ddIslanders = computed(() => {\r\n            if (props.dataDigitalDataIslanders && props.dataDigitalDataIslanders.length > 0) {\r\n                return props.dataDigitalDataIslanders.split(\",\");\r\n            }\r\n            return [];\r\n        });\r\n\r\n        //Methods\r\n        const setFilteredIslanders = () => {\r\n            if (window.digitalData.page && window.digitalData.page.isAuthorMode) {\r\n                for (let i = 0; i < ddIslanders.value.length; i++) {\r\n                    const island: string = ddIslanders.value[i];\r\n\r\n                    if (\r\n                        window.digitalData[island] &&\r\n                        window.digitalData[island][\"errorDetails\"] &&\r\n                        window.digitalData[island][\"errorDetails\"].length > 0\r\n                    ) {\r\n                        islandWithError.value[island] = window.digitalData[island][\"errorDetails\"];\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        const getPageErrorConditions = () => {\r\n            let pageError = false;\r\n            if (window.digitalData.page && window.digitalData.page.isAuthorMode) {\r\n                for (let i = 0; i < ddIslanders.value.length; i++) {\r\n                    const island = ddIslanders.value[i];\r\n\r\n                    if (\r\n                        window.digitalData[island] &&\r\n                        window.digitalData[island][\"errorDetails\"] &&\r\n                        window.digitalData[island][\"errorDetails\"].length > 0\r\n                    ) {\r\n                        pageError = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (window.clientErrorDetails && window.clientErrorDetails.length > 0) {\r\n                Object.assign(clientErrorDetails.value, window.clientErrorDetails);\r\n                return true;\r\n            }\r\n            return pageError;\r\n        };\r\n\r\n        onMounted(() => {\r\n            setFilteredIslanders();\r\n            clientErrorDetails.value = [...window.clientErrorDetails];\r\n        });\r\n\r\n        return {\r\n            clientErrorDetails,\r\n            getPageErrorConditions,\r\n            hideComponent,\r\n            islandWithError,\r\n        };\r\n    },\r\n});\r\n","/* eslint-disable @typescript-eslint/naming-convention */\r\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\r\n/* eslint-disable no-underscore-dangle */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport {\r\n    beforeVueInstanceCreationEvent,\r\n    //  registerDirectivesEvent,\r\n    //  vueMountCompletedEvent,\r\n} from \"../../core/events/customEvents\";\r\nimport { genericPageLifeCycle, fetchDynamicData, storeDynamicOffers } from \"./commonLifecycle\";\r\nimport { createVueInstance } from \"../../core/vue/vueInstance\";\r\nimport { methods } from \"../vue/methods/personalizedMethods\";\r\nimport { computed } from \"../vue/computed/personalizedComputed\";\r\nimport { subscriptionTimer } from \"../components/subscriptionTimer\";\r\nimport { errorDetail } from \"../../core/components/error-detail\";\r\nimport { applyPageTitle, updateHref } from \"../features/common-methods\";\r\nimport { logErrorMessage, logToServer } from \"../../core/error-handler/globalErrorHandler\";\r\nimport { ERROR_TYPE, ERROR_MESSAGES, CLIENT_LOG_PROP } from \"../../core/constants/commonConstants\";\r\n//import { createApp } from \"vue\";\r\nimport { initializeBootstrapComponents } from \"../../core/utils/bootstrapUtils\";\r\n\r\nexport function getComponentsList(): Record<any, any> {\r\n    return {\r\n        \"subscription-timer\": subscriptionTimer,\r\n        \"error-detail\": errorDetail,\r\n    };\r\n}\r\n\r\nexport function personalizedPageLifeCycle(): void {\r\n    genericPageLifeCycle();\r\n    document.dispatchEvent(beforeVueInstanceCreationEvent);\r\n    console.log(\"Before Vue instance creation\");\r\n    createVueInstance(\r\n        {\r\n            digitalData: window.digitalData,\r\n            vueLoaded: false,\r\n        },\r\n        \"atfApp\",\r\n        \"atfVueInstance\",\r\n        methods,\r\n        computed,\r\n        getComponentsList(),\r\n        \"[data-instance='above-the-fold']\",\r\n    )\r\n        .then(function () {\r\n            console.log(\"Above the fold Vue instance created successfully!\");\r\n        })\r\n        .catch(function (err: string) {\r\n            logErrorMessage(\r\n                ERROR_TYPE.dataError,\r\n                ERROR_MESSAGES.vueInstanceCreationFailed,\r\n                \"\",\r\n                \"personalizedLifeCycle.ts, \" + err,\r\n                \"\",\r\n                logToServer(CLIENT_LOG_PROP.dataError),\r\n            );\r\n        });\r\n\r\n    fetchDynamicData();\r\n}\r\n\r\nexport function apiCompletedAndDigitalDataMergedHandler(): void {\r\n    if (window.atfVueInstance) {\r\n        window.atfVueInstance.offerEvalRules().then(function (response: boolean) {\r\n            console.timeEnd(\"Eval offersegment rules\");\r\n            if (response) {\r\n                console.log(\"offerSegmentRules eval Success\");\r\n            } else {\r\n                console.log(\"offerSegmentRules eval Failed\");\r\n            }\r\n        });\r\n    }\r\n\r\n    applyPageTitle();\r\n    updateHref();\r\n}\r\n\r\nexport function vueMountCompleteHandler(event: any): void {\r\n    event.detail.vueInstance.vueLoaded = true;\r\n}\r\nfunction renderNoscriptContents() {\r\n    const nos = document.getElementsByTagName(\"noscript\")[0];\r\n    const nosHtml = nos.textContent || nos.innerHTML;\r\n    if (nosHtml) {\r\n        const temp = document.createElement(\"div\") as Element;\r\n        temp.innerHTML = nosHtml;\r\n        const btf = temp?.querySelector(\".below-the-fold\") as Element;\r\n        btf?.setAttribute(\"data-instance\", \"below-the-fold\");\r\n        document.querySelector(\"[data-instance='above-the-fold']\")?.after(btf);\r\n        storeDynamicOffers();\r\n        createVueInstance(\r\n            {\r\n                digitalData: window.digitalData,\r\n                vueLoaded: false,\r\n            },\r\n            \"btfApp\",\r\n            \"btfVueInstance\",\r\n            methods,\r\n            computed,\r\n            getComponentsList(),\r\n            \"[data-instance='below-the-fold']\",\r\n        )\r\n            .then(function () {\r\n                console.log(\"Below the fold Vue instance created successfully!\");\r\n                initializeBootstrapComponents();\r\n            })\r\n            .catch(function (err: string) {\r\n                logErrorMessage(\r\n                    ERROR_TYPE.dataError,\r\n                    ERROR_MESSAGES.vueInstanceCreationFailed,\r\n                    \"\",\r\n                    \"personalizedLifeCycle.ts, \" + err,\r\n                    \"\",\r\n                    logToServer(CLIENT_LOG_PROP.dataError),\r\n                );\r\n            });\r\n    }\r\n    window.removeEventListener(\"scroll\", renderNoscriptContents);\r\n}\r\nif (document.querySelector(\".noscriptcontainer noscript\")) {\r\n    window.addEventListener(\"scroll\", renderNoscriptContents);\r\n}\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport {\r\n    personalizedPageLifeCycle,\r\n    apiCompletedAndDigitalDataMergedHandler,\r\n    vueMountCompleteHandler,\r\n} from \"../lifecycle/personalizedLifeCycle\";\r\nimport { domContentLoadedHandler } from \"../lifecycle/commonLifecycle\";\r\n\r\ndocument.addEventListener(\"apiCompletedAndDigitalDataMergedEvent\", apiCompletedAndDigitalDataMergedHandler);\r\ndocument.addEventListener(\"vueMountCompletedEvent\", vueMountCompleteHandler);\r\ndocument.addEventListener(\"DOMContentLoaded\", domContentLoadedHandler);\r\n\r\npersonalizedPageLifeCycle();\r\n","/* eslint-disable no-eval */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction storeDynamicModals(offer: string): void {\n    if (offer && offer !== \"\") {\n        if (offer.includes(\"=\")) {\n            //User binded modelname=offer\n            const obj: Array<string> = offer.split(\"=\");\n            if (window.digitalData.offersGroup[obj[0]] === undefined) {\n                window.digitalData.offersGroup[obj[0]] = obj[1];\n            }\n        } else {\n            //User binded direct offer\n            if (window.digitalData.offersGroup[offer] === undefined) {\n                window.digitalData.offersGroup[offer] = offer;\n            }\n        }\n    }\n}\n\nfunction getMoguid(offer: string, buttonSection: string): string {\n    const metaOffer: string = window.digitalData?.offers?.[offer]?.metaOfferGuid || \"\";\n    if (metaOffer === \"\") {\n        console.log(\"Meta offer is empty for button section \" + buttonSection);\n    }\n    return metaOffer;\n}\n\nfunction setAdditionalQS(qp: URLSearchParams, addqs: string): void {\n    const splitWord = addqs?.split(\"&\") || \"\";\n    for (let i = 0; i < splitWord.length; i++) {\n        const dta = splitWord[i].split(\"=\");\n        if (dta[0] && dta[1]) {\n            if (dta[0] !== \"culture\") {\n                qp.set(dta[0], dta[1]);\n            }\n        }\n    }\n}\nfunction isNullOrEmpty(value: unknown) {\n    return !value;\n}\nfunction getAbbreviatedValue(value: string): string {\n    switch (value.toLowerCase()) {\n        case \"landingpages\":\n            return \"lp\";\n        case \"retention\":\n            return \"ret\";\n        case \"expiry\":\n            return \"exp\";\n        case \"paidSearch\":\n            return \"ps\";\n        case \"mss+\":\n            return \"mss\";\n        default:\n            return value;\n    }\n}\nfunction getCampaignPName() {\n    const analytics = window.digitalData.analytics;\n    if (!analytics) {\n        return \"\";\n    }\n\n    const campaignPName = [];\n    const culture = window.digitalData.culture?.culture || window.digitalData.qs?.culture;\n    campaignPName.push(culture || \"en-us\");\n    if (analytics.siteSection) {\n        campaignPName.push(getAbbreviatedValue(analytics.siteSection));\n    }\n    if (analytics.siteSectionLevel2) {\n        campaignPName.push(getAbbreviatedValue(analytics.siteSectionLevel2));\n    }\n    if (analytics.siteSectionLevel3) {\n        campaignPName.push(getAbbreviatedValue(analytics.siteSectionLevel3));\n    }\n    campaignPName.push(window.digitalData.page?.name || \"\");\n    return campaignPName.join(\":\").toLowerCase().replaceDash();\n}\nfunction getExperienceBySection(section: string): string {\n    if (!window.digitalData.experiences?.selectedExperiences) {\n        return \"\";\n    }\n    const selectedExperience = window.digitalData.experiences?.selectedExperiences?.filter(\n        (ex: any) => ex.type === section,\n    );\n    if (!selectedExperience || !selectedExperience[0]) {\n        return \"\";\n    }\n\n    return selectedExperience[0].experienceTitle?.toLowerCase().replaceDash();\n}\nfunction getHeroExperience(): string {\n    const heroExperience = getExperienceBySection(\"hero\");\n    return heroExperience === \"\" ? \"no-hero-exp\" : heroExperience;\n}\nfunction getOfferSegmentName() {\n    if (!window.digitalData.offerSegmentRules) {\n        return \"\";\n    }\n    const rule = window.digitalData.offerSegmentRules.rules.filter((ex: any) => ex.evalResult === true)[0];\n\n    if (!rule) {\n        return \"\";\n    }\n    return rule.name?.toLowerCase().replaceDash();\n}\nfunction getCampaignPUName(): string {\n    return getCampaignPName() + \"@\" + getHeroExperience() + \":\" + getOfferSegmentName();\n}\nfunction getCampaignPUNameforButton(section: string): string {\n    return getCampaignPName() + \"@\" + getExperienceBySection(section) + \":\" + getOfferSegmentName();\n}\nfunction getUOMValue(uom: string) {\n    if (!uom) {\n        return \"y\";\n    }\n\n    switch (uom) {\n        case \"1\":\n            return \"d\";\n        case \"2\":\n            return \"m\";\n        case \"7\":\n            return \"u\";\n        default:\n            return \"y\";\n    }\n}\nfunction getPlanType(offer: any) {\n    if (offer.unitValue === \"-1\") {\n        return offer.unitValue;\n    }\n\n    return offer.unitValue + getUOMValue(offer.unitOfMeasurement) + (offer.planType === \"1\" ? \"t\" : \"p\");\n}\nfunction getCTAName(selectedOffer: any, section: string) {\n    selectedOffer = window.digitalData?.offers?.[\"o1\"] || undefined;\n    if (!selectedOffer) {\n        return \"\";\n    }\n    return [\n        selectedOffer.packageCode,\n        getPlanType(selectedOffer),\n        selectedOffer.uf.finalPrice,\n        selectedOffer.currencyCode,\n        section,\n    ]\n        .join(\":\")\n        .toLowerCase();\n}\nfunction isNGMRenewal(rnwsrc: any) {\n    if (!rnwsrc) {\n        return false;\n    }\n    const renewSource = [\"ngm\"];\n    if (renewSource.includes(rnwsrc.toLowerCase())) {\n        return true;\n    }\n    return false;\n}\nfunction isProductRenewal(rnwsrc: any) {\n    if (!rnwsrc) {\n        return false;\n    }\n    const renewSource = [\"msc\", \"msf\", \"mra\", \"wsc\", \"mma\", \"unpsn\", \"upao\"];\n    if (renewSource.includes(rnwsrc.toLowerCase())) {\n        return true;\n    }\n    return false;\n}\nfunction isEmailRenewal(querystring: any) {\n    if (!querystring) {\n        return false;\n    }\n\n    if (\n        !isNullOrEmpty(querystring[\"_rid\"]) ||\n        !isNullOrEmpty(querystring[\"_mid\"]) ||\n        !isNullOrEmpty(querystring[\"extra_info\"]) ||\n        !isNullOrEmpty(querystring[\"extra_info2\"])\n    ) {\n        return true;\n    }\n    return false;\n}\nfunction isSemRenewal(querystring: any) {\n    if (!querystring) {\n        return false;\n    }\n\n    if (\n        !isNullOrEmpty(querystring[\"utm_source\"]) ||\n        !isNullOrEmpty(querystring[\"utm_medium\"]) ||\n        !isNullOrEmpty(querystring[\"utm_campaign\"]) ||\n        !isNullOrEmpty(querystring[\"utm_content\"]) ||\n        !isNullOrEmpty(querystring[\"utm_term\"])\n    ) {\n        return true;\n    }\n    return false;\n}\nfunction isSeoRenewal(querystring: any) {\n    if (!querystring) {\n        return false;\n    }\n\n    if (!isNullOrEmpty(querystring[\"ss\"])) {\n        return true;\n    }\n    return false;\n}\nfunction getGlobalSource(): string {\n    const queryString = window.digitalData.qs;\n    if (!queryString) {\n        return \"\";\n    }\n\n    if (isNGMRenewal(queryString.rnwsrc)) {\n        return \"ngm\";\n    }\n\n    if (isProductRenewal(queryString.rnwsrc)) {\n        return \"product\";\n    }\n\n    if (isEmailRenewal(queryString)) {\n        return \"email\";\n    }\n\n    if (isSemRenewal(queryString)) {\n        return \"sem\";\n    }\n\n    if (isSeoRenewal(queryString)) {\n        return \"seo\";\n    }\n\n    return \"other\";\n}\nfunction getNGMSourceLevel2(clicksrc: string) {\n    const clickSourceAlert: any = [];\n    const clickSourceCoreUI: any = [];\n\n    if (!clicksrc) {\n        return \"unspecified\";\n    }\n\n    if (clickSourceAlert.includes(clicksrc.toLowerCase()) || clicksrc.toLowerCase().includes(\"alert\")) {\n        return \"alert\";\n    }\n    if (clickSourceCoreUI.includes(clicksrc.toLowerCase()) || clicksrc.toLowerCase().includes(\"coreui\")) {\n        return \"coreui\";\n    }\n\n    return \"unspecified\";\n}\nfunction getProductSourceLevel2(clicksrc: string) {\n    const clickSourceAlert: any = [];\n    const clickSourceCoreUI = [\"subscriptionScreen\", \"renewmscpostexiryinfoviz\"];\n\n    if (!clicksrc) {\n        return \"unspecified\";\n    }\n\n    if (clickSourceAlert.includes(clicksrc.toLowerCase()) || clicksrc.toLowerCase().includes(\"alert\")) {\n        return \"alert\";\n    }\n\n    if (clickSourceCoreUI.includes(clicksrc.toLowerCase()) || clicksrc.toLowerCase().includes(\"subscription\")) {\n        return \"coreui\";\n    }\n\n    return \"unspecified\";\n}\nfunction getSeoSourceLevel2(querystring: any) {\n    if (!querystring || !isNullOrEmpty(querystring[\"avm\"])) {\n        return \"other\";\n    }\n\n    if (querystring[\"avm\"] === 0) {\n        return \"not-mcafee\";\n    }\n\n    if (querystring[\"avm\"] === 1) {\n        return \"mcafee\";\n    }\n\n    return \"other\";\n}\nfunction getSourceLevel2(source: string): string {\n    const clicksrc = window.digitalData.qs.clicksrc;\n\n    if (source === \"ngm\") {\n        return getNGMSourceLevel2(clicksrc);\n    }\n\n    if (source === \"product\") {\n        return getProductSourceLevel2(clicksrc);\n    }\n\n    if (source === \"email\") {\n        return \"\";\n    }\n\n    if (source === \"sem\") {\n        return \"\";\n    } //brand, unbrand\n\n    if (source === \"seo\") {\n        return getSeoSourceLevel2(window.digitalData.qs);\n    }\n\n    return \"other\";\n}\nwindow.analyticsData = {\n    getGlobalSource: function (): string {\n        return getGlobalSource();\n    },\n    getSourceLevel2: function (): string {\n        return getSourceLevel2(getGlobalSource());\n    },\n    getCampaignPName: function (): string {\n        return getCampaignPName();\n    },\n    getCampaignPUName: function (): string {\n        return getCampaignPUName();\n    },\n};\nfunction setCDWParamsToButton(queryParams: URLSearchParams, offerBind: string, section: string): void {\n    const campaignPUName = getCampaignPUNameforButton(section);\n    const ccta = getCTAName(offerBind, section);\n    let campaignType = \"\";\n    let campaignSubType = \"\";\n    const culture = queryParams.get(\"culture\");\n\n    campaignType = window.digitalData.analytics?.campaignType?.toLowerCase() || \"\";\n    campaignSubType = window.digitalData.analytics?.campaignSubType?.toLowerCase() || \"\";\n\n    if (!culture) {\n        queryParams.set(\"culture\", window.digitalData.culture?.culture || \"\");\n    }\n\n    const queryString = window.digitalData.qs;\n    const globalSource = getGlobalSource();\n    queryParams.set(\"cctype\", isNullOrEmpty(queryString[\"cctype\"]) ? campaignType : queryString.cctype);\n    queryParams.set(\"ccstype\", isNullOrEmpty(queryString[\"ccstype\"]) ? campaignSubType : queryString.ccstype);\n    queryParams.set(\"cseg\", isNullOrEmpty(queryString[\"cseg\"]) ? getOfferSegmentName() : queryString.cseg);\n    queryParams.set(\"cexp\", getExperienceBySection(section));\n    queryParams.set(\"ccta\", ccta);\n    queryParams.set(\"ccpubn\", campaignPUName + \"@\" + ccta);\n    queryParams.set(\"ccpun\", campaignPUName);\n    queryParams.set(\"ccpn\", getCampaignPName());\n    queryParams.set(\"csrc\", isNullOrEmpty(queryString[\"csrc\"]) ? globalSource : queryString.csrc);\n    queryParams.set(\n        \"csrcl2\",\n        isNullOrEmpty(queryString[\"csrcl2\"]) ? getSourceLevel2(globalSource) : queryString.csrcl2,\n    );\n    queryParams.set(\"cls\", isNullOrEmpty(queryString[\"cls\"]) ? \"0\" : queryString.cls);\n    queryParams.set(\"cupf\", isNullOrEmpty(queryString[\"cupf\"]) ? \"0\" : queryString.cupf);\n    queryParams.set(\"cafcat\", isNullOrEmpty(queryString[\"cafcat\"]) ? \"\" : queryString.cafcat);\n    queryParams.set(\"ccoe\", isNullOrEmpty(queryString[\"ccoe\"]) ? \"\" : queryString.ccoe);\n    queryParams.set(\"ccoel2\", isNullOrEmpty(queryString[\"ccoel2\"]) ? \"\" : queryString.ccoel2);\n    queryParams.set(\"ak_culture\", isNullOrEmpty(queryString[\"ak_culture\"]) ? \"\" : queryString.ak_culture);\n    queryParams.set(\"ipst\", isNullOrEmpty(queryString[\"ipst\"]) ? \"\" : queryString.ipst);\n    queryParams.set(\"ipcon\", isNullOrEmpty(queryString[\"ipcon\"]) ? \"\" : queryString.ipcon);\n    queryParams.set(\n        \"tm_local_lp_ab_test_variant\",\n        isNullOrEmpty(queryString[\"tm_local_lp_ab_test_variant\"]) ? \"\" : queryString.tm_local_lp_ab_test_variant,\n    );\n}\n\nfunction getUpdatedOffer(offer: string): string {\n    if (offer.split(\"=\").length > 1) {\n        const key = offer.split(\"=\")[0];\n        return window.digitalData?.offersGroup?.[key] || undefined;\n    }\n    return window.digitalData?.offersGroup?.[offer] || undefined;\n}\nexport function registerGetCartUrl(): void {\n    window.getCartURL = function (offer: string, additionalQS: string, buttonSection: string): string {\n        /*  if (window.vueInstance) {\n            if (window.vueInstance.vueLoaded === false) {\n                return \"\";\n            }\n        } */\n        storeDynamicModals(offer);\n        offer = getUpdatedOffer(offer);\n        if (window.digitalData.offers && Object.keys(window.digitalData.offers).length === 0) {\n            return \"\";\n        }\n        const urlParams = new URLSearchParams(location.search);\n        const cartUrl = window.digitalData?.cart?.cartUrl || \"\";\n        const metaOffer = getMoguid(offer, buttonSection);\n        if (metaOffer !== \"\") {\n            urlParams.set(\"moguid\", metaOffer);\n        }\n\n        urlParams.set(\"culture\", window.digitalData?.culture?.culture || \"en-us\");\n\n        if (window.digitalData?.affiliate?.affid !== \"\") {\n            urlParams.set(\"affid\", window.digitalData.affiliate.affid);\n        }\n        const osnPath: string =\n            window.digitalData?.offerSegmentRules?.rules?.filter((itm: any) => itm?.evalResult)[0]?.osnPath || \"\";\n\n        if (osnPath !== \"\") {\n            urlParams.set(\"osn\", osnPath);\n        }\n\n        if (additionalQS !== \"\") {\n            setAdditionalQS(urlParams, additionalQS);\n        }\n\n        setCDWParamsToButton(urlParams, offer, buttonSection);\n        const cParam = cartUrl.includes(\"?\") ? \"&\" : \"?\";\n        return cartUrl + cParam + urlParams.toString();\n    };\n}\n\nexport function registerGetPriceFunction(): void {\n    window.getPrice = function (val1, val2, defaultVal) {\n        /*   if (window.vueInstance) {\n            if (window.vueInstance.vueLoaded === false) {\n                return \"\";\n            }\n        } */\n\n        if (defaultVal && defaultVal !== \"\" && val1 === undefined) {\n            storeDynamicModals(defaultVal);\n            return (\n                window.digitalData?.offers?.[eval(\"digitalData.offersGroup.\" + defaultVal.split(\"=\")[0])][val2] || \"\"\n            );\n        }\n\n        if (val1 === undefined) {\n            //Model does not have default value\n            return \"\";\n        }\n\n        return window.digitalData?.offers?.[val1]?.[val2] || \"\";\n    };\n}\n\n/* Function used in default view to select the default option on page load.\n This function selects the default value for\n1. Dropdown\n2. Radio button\n3. Button Group\n */\nfunction selectDefaultOptionForRadioAndCheckbox(): void {\n    //Get all :href's whose value has \"=\". It selects :href=\"getCartUrl('dropdownSelected=o1','','none')\"\n    const nList = document.querySelectorAll(\"[\\\\:href*='=']\");\n    nList.forEach((ele) => {\n        //Get the model name. This returns \"dropdownSelected=o1\"\n        const model = (ele.getAttribute(\":href\") as string)?.match(/'([^']+)'/)?.[1] || \"\";\n        if (model && model !== \"\" && model.includes(\"=\")) {\n            const modelName = model.split(\"=\")[0];\n            const selectedVal = model.split(\"=\")[1];\n            //Get the nodes which has the attribute: name=\"dropdownSelected\"\n            const modelNodeList = document.querySelectorAll(\"[name*=\" + modelName + \"]\");\n            modelNodeList.forEach((ele: any) => {\n                //If the node is select dropdown, and if the model value matches, assign \"selected\" attribute to the element.\n                if (ele.type === \"select-one\") {\n                    for (let i = 0; i < ele.options.length; i++) {\n                        if (ele.options[i].getAttribute(\"value\") === selectedVal) {\n                            ele.options[i].setAttribute(\"selected\", \"true\");\n                            break;\n                        }\n                    }\n                } else if (ele.type === \"radio\") {\n                    //If the node is radio, and if the model value matches, assign \"checked\" attribute to the element.\n                    if (ele.getAttribute(\"value\") === selectedVal) {\n                        ele.setAttribute(\"checked\", \"true\");\n                    }\n                }\n            });\n        }\n    });\n}\n\nfunction updateGetPriceModels(): void {\n    const getPriceNodeList = document.querySelectorAll(\"[v-html*='offersGroup']\");\n    if (getPriceNodeList && getPriceNodeList.length > 0) {\n        getPriceNodeList.forEach((ele: any) => {\n            const vhtml = ele.getAttribute(\"v-html\");\n            ele.textContent = eval(vhtml);\n        });\n    }\n}\n\nfunction selectDropdownChangeHandler(e: any): void {\n    if (e.target.type === \"radio\" || e.target.type === \"select-one\") {\n        const nodeList = document.querySelectorAll(\"[\\\\:href*=\" + e.target.getAttribute(\"name\") + \"]\");\n        if (nodeList && nodeList.length > 0) {\n            const hrefVal = nodeList[0].getAttribute(\":href\");\n            //Model will be \"radiobuttonmodel=o1\"\n            const model = hrefVal?.match(/'([^']+)'/)?.[1] as string;\n            //Get the old offer\n            const oldOffer = window.digitalData.offersGroup[e.target.name];\n            const newOffer = model?.replace(oldOffer, e.target.value);\n            //Update digitalData.offersGroup\n            window.digitalData.offersGroup[e.target.name] = e.target.value;\n            const updatedFunction = hrefVal?.replace(model, newOffer);\n            nodeList[0].setAttribute(\"href\", eval(updatedFunction as string));\n            updateGetPriceModels();\n        }\n    }\n}\n\n//This function is used only in defaultLifecycle\nexport function updateBuynowCTA(): void {\n    //Below code is to identify all :href components and set href value\n    const hrefNodeList = document.querySelectorAll(\"[\\\\:href]\");\n    for (let i = 0; i < hrefNodeList.length; i++) {\n        const node = hrefNodeList[i];\n        const func: string = node.getAttribute(\":href\") as string;\n        if (func !== \"\") {\n            try {\n                node.setAttribute(\"href\", eval(func));\n            } catch (err) {\n                console.log(\"Error in assigning href val to node \" + node + \" with error: \" + err);\n            }\n        }\n    }\n\n    selectDefaultOptionForRadioAndCheckbox();\n    document.addEventListener(\"input\", selectDropdownChangeHandler);\n}\n\nexport {};\n","/* eslint-disable no-eval */\r\nexport function applyPageTitle(): void {\r\n    const titleRulesLength = window.digitalData?.page?.rules?.length || 0;\r\n    for (let i = 0; i < titleRulesLength; i++) {\r\n        try {\r\n            const ret = eval(window.digitalData.page.rules[i].expression);\r\n            if (ret) {\r\n                eval(window.digitalData.page.rules[i].assignment);\r\n                document.title = window.digitalData?.page?.title || document.title;\r\n                break;\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n}\r\n\r\nexport function registerGetUrl(): void {\r\n    window.getUrl = function (url: string, enableQS = false) {\r\n        if (!url) {\r\n            return \"\";\r\n        }\r\n        if (url === \"\") {\r\n            return \"\";\r\n        }\r\n        if (enableQS) {\r\n            return url + location.search;\r\n        }\r\n\r\n        return url;\r\n    };\r\n}\r\n\r\nexport function updateHref(): void {\r\n    const currentURL = window.location;\r\n    if (currentURL.search === \"\") {\r\n        return;\r\n    }\r\n\r\n    document.querySelectorAll(\"a\").forEach((elem) => {\r\n        if (\r\n            (elem.hostname === currentURL.hostname || elem.hostname.includes(\"mcafee.com\")) &&\r\n            !elem.hostname.includes(\"service.mcafee.com\")\r\n        ) {\r\n            if (elem.pathname === currentURL.pathname) {\r\n                return;\r\n            }\r\n            const tempQS: string[] = [];\r\n            decodeURIComponent(currentURL.search)\r\n                .replace(\"?\", \"\")\r\n                .replace(/\\?/g, \"&\")\r\n                .replace(/&amp;/g, \"&\")\r\n                .replace(/&&/g, \"&\")\r\n                .split(\"&\")\r\n                .map((qs) => {\r\n                    if (!elem.search.includes(qs.split(\"=\")[0])) {\r\n                        tempQS.push(qs);\r\n                    }\r\n                });\r\n            if (elem.search === \"\") {\r\n                elem.search = `?${tempQS.join(\"&\")}`;\r\n            } else if (tempQS.length > 0) {\r\n                elem.search += `&${tempQS.join(\"&\")}`;\r\n            }\r\n        }\r\n    });\r\n}\r\n","/* eslint-disable no-eval */\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { logErrorMessage, logToServer } from \"../../../core/error-handler/globalErrorHandler\";\r\nimport { ERROR_TYPE, ERROR_MESSAGES, CLIENT_LOG_PROP } from \"../../../core/constants/commonConstants\";\r\nexport const offerSegmentRules: Record<any, any> = {\r\n    offerEvalRules(): Promise<boolean> {\r\n        console.time(\"Eval offersegment rules\");\r\n        return new Promise((resolve) => {\r\n            const offSegRules = this.digitalData?.offerSegmentRules?.rules?.length || undefined;\r\n            if (offSegRules) {\r\n                for (const off of this.digitalData.offerSegmentRules.rules) {\r\n                    try {\r\n                        const exp = eval(off.expression);\r\n                        if (exp) {\r\n                            this.evalRules(off);\r\n                            resolve(true);\r\n                            break;\r\n                        }\r\n                    } catch (err) {\r\n                        this.evalRules(\r\n                            this.digitalData.offerSegmentRules.rules[\r\n                                this.digitalData.offerSegmentRules.rules.length - 1\r\n                            ],\r\n                        );\r\n                        resolve(false);\r\n                    }\r\n                }\r\n            } else {\r\n                logErrorMessage(\r\n                    ERROR_TYPE.dataError,\r\n                    ERROR_MESSAGES.offRulesNotAvailable,\r\n                    \"\",\r\n                    \"offerSegmentRules.ts\",\r\n                    \"\",\r\n                    logToServer(CLIENT_LOG_PROP.dataError) /* ,\r\n                    window.vueInstance.vueLoaded, */,\r\n                );\r\n                resolve(false);\r\n            }\r\n        });\r\n    },\r\n    evalRules(off: any): void {\r\n        off.evalResult = true;\r\n        // the below format is required as eval will fail if the JSONObject has formats like below\r\n        //digitalData.offers.o1.rewards=\"[{\"DiscountTypeValue\":\"None\"}]\"\r\n        //digitalData.offers.o1.rewardTotal=\"{\"DiscountTypeValue\":\"None\"}\"\r\n        //So after doing the transformation, formatted will look like below.\r\n        //digitalData.offers.o1.rewards=[{\"DiscountTypeValue\":\"None\"}]\r\n        //digitalData.offers.o1.rewardTotal={\"DiscountTypeValue\":\"None\"}\r\n        const formattedAssignment = off.assignment\r\n            .replaceAll('\"[', \"[\")\r\n            .replaceAll(']\"', \"]\")\r\n            .replaceAll('\"{', \"{\")\r\n            .replaceAll('}\"', \"}\");\r\n        eval(formattedAssignment);\r\n    },\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = x => {};\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t258: 0\n};\n\nvar deferredModules = [\n\t[143,277]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = x => {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime, executeModules] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmcafee_consumer_wcm_vue3_lib\"] = self[\"webpackChunkmcafee_consumer_wcm_vue3_lib\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = x => {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = () => {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (x => {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"sourceRoot":""}